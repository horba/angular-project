
<md-card class="emails">
   <md-table [dataSource]="mails">
      <ng-container mdColumnDef="From">
         <md-header-cell *mdHeaderCellDef> From </md-header-cell>
         <md-cell *mdCellDef="let element"> {{element.Source.From.FirstName + ' ' + element.Source.From.LastName}} </md-cell>
      </ng-container>
      <ng-container mdColumnDef="To">
         <md-header-cell *mdHeaderCellDef> To </md-header-cell>
         <md-cell *mdCellDef="let element"> {{element.Source.To.FirstName + ' ' + element.Source.To.LastName}} </md-cell>
      </ng-container>
      <ng-container mdColumnDef="Message">
         <md-header-cell *mdHeaderCellDef> Content </md-header-cell>
         <md-cell *mdCellDef="let element"><show-more text="{{element.Source.Content}}" show-limit=30></show-more></md-cell>
      </ng-container>
      <ng-container mdColumnDef="IsSecure">
         <md-header-cell *mdHeaderCellDef> Is Secure </md-header-cell>
         <md-cell *mdCellDef="let element">
            <md-icon *ngIf="element.IsSecure; else unsecurityIcon">verified_user</md-icon>
            <ng-template #unsecurityIcon><md-icon>report</md-icon></ng-template>            
         </md-cell>
      </ng-container>
      <ng-container mdColumnDef="Date">
         <md-header-cell *mdHeaderCellDef> Date </md-header-cell>
         <md-cell *mdCellDef="let element">{{element.Source.Date | date:'mediumDate'}} </md-cell>
      </ng-container>

      <md-header-row *mdHeaderRowDef="['From', 'To', 'Message', 'IsSecure', 'Date']"></md-header-row>
      <md-row [ngClass]="row.IsSecure ? 'safe-message' : 'unsafe-message'" *mdRowDef="let row; columns: ['From', 'To', 'Message', 'IsSecure', 'Date'];"></md-row>

   </md-table>
</md-card>